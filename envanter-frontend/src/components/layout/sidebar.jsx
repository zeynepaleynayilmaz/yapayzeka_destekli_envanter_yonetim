import { useState } from "react";

export function Sidebar() {
  const [activeLink, setActiveLink] = useState(window.location.pathname);

  const links = [
    {
      path: "/",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          className="w-6 h-6"
        >
          <path d="M9 2.4578V4.58152C6.06817 5.76829 4 8.64262 4 12C4 16.4183 7.58172 20 12 20C15.3574 20 18.2317 17.9318 19.4185 15H21.5422C20.2679 19.0571 16.4776 22 12 22C6.47715 22 2 17.5228 2 12C2 7.52236 4.94289 3.73207 9 2.4578ZM12 2C17.5228 2 22 6.47715 22 12C22 12.3375 21.9833 12.6711 21.9506 13H11V2.04938C11.3289 2.01672 11.6625 2 12 2ZM13 4.06189V11H19.9381C19.4869 7.38128 16.6187 4.51314 13 4.06189Z" />
        </svg>
      ),
      label: "Dashboard",
      color: "bg-gradient-to-r from-orange-400 to-orange-500",
    },
    {
      path: "/envanter",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          className="w-6 h-6"
        >
          <path d="M21 13V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V13H2V11L3 6H21L22 11V13H21ZM5 13V19H19V13H5ZM4.03961 11H19.9604L19.3604 8H4.63961L4.03961 11ZM6 14H14V17H6V14ZM3 3H21V5H3V3Z" />
        </svg>
      ),
      label: "Envanter",
      color: "bg-gradient-to-r from-orange-400 to-orange-500",
    },
    {
      path: "/chatbox",
      icon: (
        <svg
          viewBox="0 0 512 512"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          className="w-6 h-6"
        >
          <path d="M430.42,196.32c8-11.39,21.15-38.33,0-72.13a52.79,52.79,0,0,0-17.06-17.31c-1.53-8-7.54-27.26-31.42-43.91C359,47,325.52,49.53,319.44,50.16a64.27,64.27,0,0,0-16.07-2.94c-17.17-.81-30.37,3.89-39.78,14.05A46.3,46.3,0,0,0,256,72.89a46.06,46.06,0,0,0-7.6-11.62c-9.4-10.16-22.86-14.86-39.76-14.05a64.73,64.73,0,0,0-16.07,2.94C186.52,49.53,153,47,130,63c-23.9,16.66-29.91,36-31.43,43.92a52.9,52.9,0,0,0-17,17.3c-21.13,33.8-7.94,60.74,0,72.14-9.75,8.34-27.88,27.88-23.06,54.66,3.28,18.2,13.84,32.19,28.68,38.62,5.26,4.27,33.73,24.61,96.38,25.23v50.37H161.37a33.22,33.22,0,1,0,0,13.37h28.91A6.68,6.68,0,0,0,197,371.9V314.72h.28c.24,0,.44-.13.67-.16a51,51,0,0,0,6.34.72c22.54,0,36.26-6.82,44.7-16.86V399.23a33.22,33.22,0,1,0,13.38-.15V297.47c8.36,10.55,22.19,17.81,45.41,17.81a51.3,51.3,0,0,0,6.36-.72c.23,0,.43.15.67.16H315V371.9a6.68,6.68,0,0,0,6.69,6.68h28.9a33.22,33.22,0,1,0,0-13.37H328.41V314.84c62.61-.62,91.08-20.94,96.37-25.22,14.85-6.42,25.4-20.43,28.68-38.63C458.3,224.21,440.17,204.67,430.42,196.32ZM128.83,391.74a19.85,19.85,0,1,1,19.84-19.84A19.87,19.87,0,0,1,128.83,391.74Zm254.33-39.69a19.85,19.85,0,1,1-19.84,19.85A19.86,19.86,0,0,1,383.16,352.05Zm14.18-251.59c-15.32-3.42-31.58-.5-44.09,4,.29-10.79-1.29-26.79-11-39.28-.52-.67-1.21-1.15-1.76-1.78,10.77.88,23.8,3.52,33.84,10.52C387.61,83.21,394.08,93.11,397.34,100.46ZM137.69,73.94c10-7,23-9.6,33.82-10.49-.55.62-1.23,1.09-1.74,1.76-9.72,12.49-11.3,28.48-11,39.27-12.5-4.52-28.77-7.43-44.11-4C117.91,93.12,124.38,83.22,137.69,73.94Zm66.56,228c-11.92,0-20.24-4.45-23.42-12.53-3.08-7.83-.79-18,5.33-23.71,5.41-5,12.61-5.61,20.8-1.68a6.69,6.69,0,0,0,5.8-12.06,37.35,37.35,0,0,0-13.42-3.46,36.51,36.51,0,0,0,4.12-11.41,6.68,6.68,0,1,0-13.22-2c-1.09,7.19-9,16.72-11.92,19.79-.06.07-.08.16-.15.24-.35.3-.78.44-1.13.76-10.08,9.37-13.71,25.52-8.66,38.4a31,31,0,0,0,4.12,6.87c-23.65-1.28-41.29-5.59-53.69-10.1a43,43,0,0,0,18.71-12.38,6.68,6.68,0,0,0-10-8.84,29.94,29.94,0,0,1-30.83,9c-12.87-3.58-22.19-14.89-25-30.24-3.66-20.3,11.38-35.94,18.92-42.36,3.93,3.42,10,8.07,16.75,10.66a6.85,6.85,0,0,0,2.41.45,6.69,6.69,0,0,0,2.4-12.93C103.83,201.22,96,193,95.9,192.88s-.08,0-.11-.08a.47.47,0,0,0-.06-.09c-1-1-25.1-25.79-2.83-61.43,21.92-35.08,68.52-11.23,70.51-10.2a6.69,6.69,0,0,0,9.66-7.25c0-.25-4.86-24.85,7.25-40.42,6.13-7.87,15.87-12.18,29-12.83,12.64-.7,22.65,2.64,29.28,9.74C247,79.38,249,93,249.25,102.17a6.88,6.88,0,0,0-.3,1.5c0,12.12-3.38,20.47-9.77,24.15-5.72,3.32-13.31,2.49-17.54,0-6.57-3.8-10.32-7.84-10.84-11.67-.55-4.11,2.71-7.59,2.88-7.76a6.69,6.69,0,0,0-9.36-9.56c-.84.82-8.11,8.23-6.81,18.87,1,8.29,6.89,15.59,17.43,21.69a32,32,0,0,0,15.65,3.94,30.46,30.46,0,0,0,15.28-4,27.82,27.82,0,0,0,3.08-2.08v63.1a53.74,53.74,0,0,0-4.71-4.72c-14.2-12.25-34.66-17.44-61-15.4a52.49,52.49,0,0,0-23.58,7.29,6.71,6.71,0,0,0-1.1-.23c-.17,0-16.56-.41-26.8-17.43-5.42-9,.3-22,.35-22.14A6.69,6.69,0,0,0,120,142.26c-.35.79-8.73,19.51.35,34.58a48.37,48.37,0,0,0,27,21.71c-11.11,14-14,32.77-13.35,44.89a6.69,6.69,0,0,0,6.67,6.31H141a6.68,6.68,0,0,0,6.31-7.05c-.11-1.87-2.1-46,37-49.05C244.22,189,248.74,227.92,249,230.3v10.15C249,277.57,245.84,301.91,204.25,301.91Zm71.6,129.74A19.85,19.85,0,1,1,256,411.81,19.87,19.87,0,0,1,275.85,431.65Zm164.45-183c-2.76,15.34-12.09,26.64-24.95,30.23a30,30,0,0,1-30.84-9,6.68,6.68,0,0,0-10,8.84A43.17,43.17,0,0,0,393.16,291c-12.41,4.5-30.05,8.81-53.66,10.09a30.67,30.67,0,0,0,4.11-6.86c5.06-12.88,1.43-29-8.66-38.4-.34-.32-.77-.46-1.12-.76-.07-.08-.09-.17-.16-.24-2.95-3.07-10.83-12.6-11.91-19.79a6.79,6.79,0,0,0-7.6-5.63,6.69,6.69,0,0,0-5.62,7.61,36.49,36.49,0,0,0,4.11,11.41,37.1,37.1,0,0,0-13.41,3.46A6.69,6.69,0,0,0,305,264c8.18-3.93,15.39-3.36,20.79,1.68,6.13,5.68,8.42,15.88,5.33,23.71-3.17,8.08-11.49,12.53-23.42,12.53-41.57,0-44.68-24.34-44.68-61.46v-10.1a40.1,40.1,0,0,1,13.47-24.52c11.4-9.84,28.57-13.93,51.14-12.19,38.93,3,37.1,47.19,37,49.07a6.68,6.68,0,0,0,6.32,7l.37,0a6.68,6.68,0,0,0,6.66-6.31c.67-12.12-2.24-30.91-13.36-44.89a48.35,48.35,0,0,0,27-21.71c9.08-15.07.7-33.79.35-34.58a6.69,6.69,0,0,0-12.17,5.56c.06.13,5.76,13.17.36,22.12-10.12,16.77-26.17,17.41-26.81,17.43a5.76,5.76,0,0,0-1.11.24,52.36,52.36,0,0,0-23.58-7.3c-26.28-2.05-46.74,3.15-60.94,15.4a52.76,52.76,0,0,0-4.73,4.73l0-63.14a30.1,30.1,0,0,0,3.12,2.11,30.46,30.46,0,0,0,15.28,4,32.08,32.08,0,0,0,15.66-3.94c10.53-6.1,16.38-13.4,17.42-21.69,1.3-10.64-6-18-6.81-18.87a6.69,6.69,0,0,0-9.33,9.6s3.36,3.54,2.85,7.63c-.47,3.86-4.22,7.92-10.83,11.76-4.25,2.45-11.83,3.27-17.55,0-6.39-3.68-9.77-12-9.77-24.15a6.44,6.44,0,0,0-.32-1.57c.28-9,2.23-22.67,10.7-31.77,6.6-7.11,16.6-10.45,29.27-9.75,13.08.64,22.81,5,28.92,12.78,12.09,15.47,7.36,40.23,7.31,40.48a6.7,6.7,0,0,0,9.66,7.24c2-1,48.57-24.92,70.51,10.2,22.26,35.64-1.8,60.39-2.82,61.4,0,0,0,.09-.08.12s-.07,0-.1.08c-2.17,2.31-9.3,8.86-16.28,11.55a6.69,6.69,0,0,0,2.4,12.93,6.85,6.85,0,0,0,2.41-.45c6.72-2.59,12.82-7.24,16.74-10.66C428.92,212.67,444,228.31,440.3,248.62Z" />
        </svg>
      ),
      label: "Yapay Zeka",
      color: "bg-gradient-to-r from-orange-400 to-orange-500",
    },
    {
      path: "/ayarlar",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          className="w-6 h-6"
        >
          <path d="M12 1l9.5 5.5v11L12 23l-9.5-5.5v-11L12 1zm0 2.311L4.5 7.653v8.694l7.5 4.342 7.5-4.342V7.653L12 3.311zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z" />
        </svg>
      ),
      label: "Ayarlar",
      color: "bg-gradient-to-r from-orange-400 to-orange-500",
    },
  ];

  return (
    <div className="w-20 h-screen bg-gradient-to-b from-black to-gray-500 flex flex-col items-center py-6 fixed left-0 shadow-xl transition-all duration-300 hover:w-48 group z-10">
      {/* Logo */}
      <div className="mb-8 w-full flex justify-center">
        <a href="/" className="flex flex-col items-center">
          <div className="w-12 h-12 rounded-full shadow-lg border-2 border-gray-700 hover:border-orange-400 transition-colors overflow-hidden flex items-center justify-center bg-white">
            <img
              src="src/assets/DepoStok.png"
              className="w-10 h-10 object-contain"
              alt="DepoStok"
            />
          </div>
          <span className="mt-2 font-bold text-white text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            DepoStok
          </span>
        </a>
      </div>

      {/* Navigation Links */}
      <nav className="flex-1 w-full">
        <div className="px-3 space-y-2">
          {links.map((link) => (
            <a
              key={link.path}
              href={link.path}
              className={`relative flex items-center w-full p-3 rounded-xl transition-all duration-200 group/link
                ${activeLink === link.path ? link.color : "hover:bg-gray-900"}
                ${
                  activeLink === link.path
                    ? "text-white"
                    : "text-gray-400 hover:text-white"
                }`}
              onClick={() => setActiveLink(link.path)}
            >
              <div className="w-full flex items-center">
                <div className="min-w-[24px] flex justify-center">
                  <div
                    className={`${
                      activeLink === link.path
                        ? ""
                        : "group-hover/link:scale-110 transition-transform duration-200"
                    }`}
                  >
                    {link.icon}
                  </div>
                </div>
                <span className="ml-3 font-medium whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  {link.label}
                </span>
              </div>
              {activeLink === link.path && (
                <div className="absolute right-0 w-1 h-full bg-white rounded-l-lg" />
              )}
            </a>
          ))}
        </div>
      </nav>

      {/* Logout Button */}
      <div className="w-full px-3">
        <a
          href="/login"
          className="flex items-center w-full p-3 text-black rounded-xl hover:bg-gray-400/10 transition-colors"
        >
          <div className="w-full flex items-center">
            <div className="min-w-[24px] flex justify-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                className="w-6 h-6"
                fill="currentColor"
              >
                <path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C15.2713 2 18.1757 3.57078 20.0002 5.99923L17.2909 5.99931C15.8807 4.75499 14.0285 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C14.029 20 15.8816 19.2446 17.2919 17.9998L20.0009 17.9998C18.1765 20.4288 15.2717 22 12 22ZM19 16V13H11V11H19V8L24 12L19 16Z" />
              </svg>
            </div>
            <span className="ml-3 font-medium whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300">
              Çıkış Yap
            </span>
          </div>
        </a>
      </div>
    </div>
  );
}